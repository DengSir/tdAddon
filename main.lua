local tdAddon = tdCore:NewAddon(...)local L = tdAddon:GetLocale()local addons = {}function tdAddon:OnInit()    for i = 1, GetNumAddOns() do        tinsert(addons, {value = self('Addon'):New(i)})    end        self:InitOption{        type = 'Widget', label = L['Addons Manager'], name = 'WidgetAddonsManager',    }        local widget = self:GetOption():GetControl('WidgetAddonsManager')        local GUI = tdCore('GUI')    local listWidget = GUI('ListWidget'):New(widget)    listWidget:SetLabelText(L['Addons List'])    listWidget:SetItemHeight(24)    listWidget:SetItemObject(self('AddonItem'))    listWidget:SetItemList(addons)    listWidget:SetPoint('TOPLEFT', 10, -30)    listWidget:SetPoint('BOTTOMRIGHT', -10, 40)        local enableAll = GUI('Button'):New(widget)    enableAll:SetText(L['Enable All'])    enableAll:SetPoint('BOTTOMLEFT', 10, 10)    enableAll:SetScript('OnClick', EnableAllAddOns)        local disableAll = GUI('Button'):New(widget)    disableAll:SetText(L['Disable All'])    disableAll:SetPoint('LEFT', enableAll, 'RIGHT', 10, 0)    disableAll:SetScript('OnClick', function()        DisableAllAddOns()        EnableAddOn(self:GetName())    end)        local reload = GUI('Button'):New(widget)    reload:SetText(L['Reload UI'])    reload:SetPoint('BOTTOMRIGHT', -10, 10)    reload:SetScript('OnClick', ReloadUI)        self:InitMinimap({        icon = [[Interface\Icons\Achievement_DoubleRainbow]],        note = self:GetTitle(),        scripts = {            OnCall = function()                self:ToggleOption()            end,        }    })        self:RegisterCmd('/rl')    self:SetHandle('OnSlashCmd', ReloadUI)end